
 RUN  v3.2.4 /Users/kaipeace/Documents/Development Files/aworkflow-nextjs

 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Component Rendering > should render setup wizard with welcome step 21ms
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Component Rendering > should display loading state initially 1ms
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Component Rendering > should handle API error gracefully 3ms
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Component Rendering > should redirect when setup is complete 4ms
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Step Navigation > should show progress indicators for all steps 7ms
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Step Navigation > should navigate to next step on continue 1016ms
   â†’ Unable to find an element with the text: AI Provider Configuration. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m4[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m100[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"4"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 100%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mReview & Complete[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mReview your configuration and complete setup[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
          [36m>[39m
            [0mConfiguration Summary[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mAI Provider:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mauto[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mMonthly Budget:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0m$[0m
                [0m100[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mCitation Style:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mAPA[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mLanguage:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mEnglish[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mSpecial Features:[0m
            [36m</h4>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
            [36m>[39m
              [36m<li>[39m
                [0mâ€¢ Theme: [0m
                [0msystem[0m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mComplete Setup[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m4[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m100[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"4"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 100%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mReview & Complete[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mReview your configuration and complete setup[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
            [36m>[39m
              [0mConfiguration Summary[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mAI Provider:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mauto[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mMonthly Budget:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0m$[0m
                  [0m100[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mCitation Style:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mAPA[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mLanguage:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mEnglish[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mSpecial Features:[0m
              [36m</h4>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0mâ€¢ Theme: [0m
                  [0msystem[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mComplete Setup[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Step Navigation > should navigate to previous step on back 373ms
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Step Navigation > should disable back button on first step 1019ms
   â†’ [2mexpect([22m[31melement[39m[2m).toBeDisabled()[22m

Received element is not disabled:
  [31m<button
  class="px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"
  data-testid="setupwizard-back-btn"
  tabindex="0"
/>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m2[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m50[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"2"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 50%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAI Provider Configuration[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mConfigure your AI provider settings[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"anthropicApiKey"[39m
              [36m>[39m
                [0mAnthropic API Key *[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                  [33mid[39m=[32m"anthropicApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-ant-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest Anthropic Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"openaiApiKey"[39m
              [36m>[39m
                [0mOpenAI API Key (Optional)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mid[39m=[32m"openaiApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest OpenAI Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"monthlyBudget"[39m
              [36m>[39m
                [0mMonthly Budget ($) *[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"monthlyBudget"[39m
                [33mmin[39m=[32m"0"[39m
                [33mstep[39m=[32m"0.01"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"100"[39m
              [36m/>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"preferredProvider"[39m
              [36m>[39m
                [0mPreferred Provider[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"preferredProvider"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"auto"[39m
                [36m>[39m
                  [0mAuto[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"anthropic"[39m
                [36m>[39m
                  [0mAnthropic[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"openai"[39m
                [36m>[39m
                  [0mOpenAI[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mdisabled[39m=[32m""[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Step Navigation > should show finish button on last step 1018ms
   â†’ Unable to find role="heading" and name `/AI Provider Configuration/i`

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m4[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m100[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"4"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 100%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mReview & Complete[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mReview your configuration and complete setup[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
          [36m>[39m
            [0mConfiguration Summary[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mAI Provider:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mauto[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mMonthly Budget:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0m$[0m
                [0m100[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mCitation Style:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mAPA[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mLanguage:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mEnglish[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mSpecial Features:[0m
            [36m</h4>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
            [36m>[39m
              [36m<li>[39m
                [0mâ€¢ Theme: [0m
                [0msystem[0m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mComplete Setup[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m4[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m100[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"4"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 100%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mReview & Complete[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mReview your configuration and complete setup[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
            [36m>[39m
              [0mConfiguration Summary[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mAI Provider:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mauto[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mMonthly Budget:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0m$[0m
                  [0m100[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mCitation Style:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mAPA[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mLanguage:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mEnglish[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mSpecial Features:[0m
              [36m</h4>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0mâ€¢ Theme: [0m
                  [0msystem[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mComplete Setup[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > API Keys Configuration Step > should display API key input fields 178ms
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > API Keys Configuration Step > should validate API key format 18ms
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > API Keys Configuration Step > should test API keys when valid 1010ms
   â†’ Unable to find role="heading" and name `/AI Provider Configuration/i`

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m4[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m100[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"4"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 100%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mReview & Complete[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mReview your configuration and complete setup[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
          [36m>[39m
            [0mConfiguration Summary[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mAI Provider:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mauto[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mMonthly Budget:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0m$[0m
                [0m100[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mCitation Style:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mAPA[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mLanguage:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mEnglish[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mSpecial Features:[0m
            [36m</h4>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
            [36m>[39m
              [36m<li>[39m
                [0mâ€¢ Theme: [0m
                [0msystem[0m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mComplete Setup[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m4[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m100[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"4"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 100%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mReview & Complete[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mReview your configuration and complete setup[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
            [36m>[39m
              [0mConfiguration Summary[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mAI Provider:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mauto[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mMonthly Budget:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0m$[0m
                  [0m100[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mCitation Style:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mAPA[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mLanguage:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mEnglish[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mSpecial Features:[0m
              [36m</h4>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0mâ€¢ Theme: [0m
                  [0msystem[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mComplete Setup[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > API Keys Configuration Step > should prevent navigation without required fields 167ms
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > API Keys Configuration Step > should enable navigation when requirements met 15ms
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Academic Preferences Step > should display preference settings 1008ms
   â†’ Unable to find role="heading" and name `/AI Provider Configuration/i`

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m4[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m100[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"4"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 100%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mReview & Complete[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mReview your configuration and complete setup[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
          [36m>[39m
            [0mConfiguration Summary[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mAI Provider:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mauto[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mMonthly Budget:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0m$[0m
                [0m100[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mCitation Style:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mAPA[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mLanguage:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mEnglish[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mSpecial Features:[0m
            [36m</h4>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
            [36m>[39m
              [36m<li>[39m
                [0mâ€¢ Theme: [0m
                [0msystem[0m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mComplete Setup[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m4[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m100[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"4"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 100%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mReview & Complete[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mReview your configuration and complete setup[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
            [36m>[39m
              [0mConfiguration Summary[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mAI Provider:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mauto[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mMonthly Budget:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0m$[0m
                  [0m100[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mCitation Style:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mAPA[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium text-gray-700"[39m
                [36m>[39m
                  [0mLanguage:[0m
                [36m</h4>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600"[39m
                [36m>[39m
                  [0mEnglish[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mSpecial Features:[0m
              [36m</h4>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0mâ€¢ Theme: [0m
                  [0msystem[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mComplete Setup[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Academic Preferences Step > should update citation style selection 165ms
   â†’ Unable to find a label with the text of: /citation style/i

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m2[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m50[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"2"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 50%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mAI Provider Configuration[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mConfigure your AI provider settings[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"anthropicApiKey"[39m
            [36m>[39m
              [0mAnthropic API Key *[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                [33mid[39m=[32m"anthropicApiKey"[39m
                [33mplaceholder[39m=[32m"sk-ant-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m"sk-ant-valid-key"[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest Anthropic Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"openaiApiKey"[39m
            [36m>[39m
              [0mOpenAI API Key (Optional)[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"openaiApiKey"[39m
                [33mplaceholder[39m=[32m"sk-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest OpenAI Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"monthlyBudget"[39m
            [36m>[39m
              [0mMonthly Budget ($) *[0m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
              [33mid[39m=[32m"monthlyBudget"[39m
              [33mmin[39m=[32m"0"[39m
              [33mstep[39m=[32m"0.01"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtype[39m=[32m"number"[39m
              [33mvalue[39m=[32m"100"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"preferredProvider"[39m
            [36m>[39m
              [0mPreferred Provider[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mid[39m=[32m"preferredProvider"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"auto"[39m
              [36m>[39m
                [0mAuto[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"anthropic"[39m
              [36m>[39m
                [0mAnthropic[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"openai"[39m
              [36m>[39m
                [0mOpenAI[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mContinue[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Academic Preferences Step > should toggle ADHD friendly mode 171ms
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Academic Preferences Step > should allow navigation with default preferences 6ms
   â†’ Unable to find an element by: [data-testid="setupwizard-continue-btn"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m4[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m100[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"4"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 100%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mReview & Complete[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mReview your configuration and complete setup[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
          [36m>[39m
            [0mConfiguration Summary[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mAI Provider:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mauto[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mMonthly Budget:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0m$[0m
                [0m100[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mCitation Style:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mAPA[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"font-medium text-gray-700"[39m
              [36m>[39m
                [0mLanguage:[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mEnglish[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gray-50 p-4 rounded-lg"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mSpecial Features:[0m
            [36m</h4>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"text-gray-600 space-y-1"[39m
            [36m>[39m
              [36m<li>[39m
                [0mâ€¢ Theme: [0m
                [0msystem[0m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-complete-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mComplete Setup[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Review & Complete Step > should display configuration summary 1179ms
   â†’ Unable to find an element with the text: Review & Complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m2[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m50[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"2"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 50%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mAI Provider Configuration[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mConfigure your AI provider settings[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"anthropicApiKey"[39m
            [36m>[39m
              [0mAnthropic API Key *[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                [33mid[39m=[32m"anthropicApiKey"[39m
                [33mplaceholder[39m=[32m"sk-ant-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m"sk-ant-valid-key"[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest Anthropic Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"openaiApiKey"[39m
            [36m>[39m
              [0mOpenAI API Key (Optional)[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"openaiApiKey"[39m
                [33mplaceholder[39m=[32m"sk-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest OpenAI Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"monthlyBudget"[39m
            [36m>[39m
              [0mMonthly Budget ($) *[0m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
              [33mid[39m=[32m"monthlyBudget"[39m
              [33mmin[39m=[32m"0"[39m
              [33mstep[39m=[32m"0.01"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtype[39m=[32m"number"[39m
              [33mvalue[39m=[32m"100"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"preferredProvider"[39m
            [36m>[39m
              [0mPreferred Provider[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mid[39m=[32m"preferredProvider"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"auto"[39m
              [36m>[39m
                [0mAuto[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"anthropic"[39m
              [36m>[39m
                [0mAnthropic[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"openai"[39m
              [36m>[39m
                [0mOpenAI[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mContinue[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m2[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m50[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"2"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 50%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAI Provider Configuration[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mConfigure your AI provider settings[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"anthropicApiKey"[39m
              [36m>[39m
                [0mAnthropic API Key *[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                  [33mid[39m=[32m"anthropicApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-ant-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m"sk-ant-valid-key"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest Anthropic Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"openaiApiKey"[39m
              [36m>[39m
                [0mOpenAI API Key (Optional)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mid[39m=[32m"openaiApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest OpenAI Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"monthlyBudget"[39m
              [36m>[39m
                [0mMonthly Budget ($) *[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"monthlyBudget"[39m
                [33mmin[39m=[32m"0"[39m
                [33mstep[39m=[32m"0.01"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"100"[39m
              [36m/>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"preferredProvider"[39m
              [36m>[39m
                [0mPreferred Provider[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"preferredProvider"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"auto"[39m
                [36m>[39m
                  [0mAuto[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"anthropic"[39m
                [36m>[39m
                  [0mAnthropic[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"openai"[39m
                [36m>[39m
                  [0mOpenAI[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Review & Complete Step > should complete setup successfully 1189ms
   â†’ Unable to find an element with the text: Review & Complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m3[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m75[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"3"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 75%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mAcademic Preferences[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mSet your academic and citation preferences[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"citationStyle"[39m
              [36m>[39m
                [0mCitation Style[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"citationStyle"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"apa"[39m
                [36m>[39m
                  [0mAPA[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"mla"[39m
                [36m>[39m
                  [0mMLA[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"chicago"[39m
                [36m>[39m
                  [0mChicago[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"harvard"[39m
                [36m>[39m
                  [0mHarvard[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"defaultLanguage"[39m
              [36m>[39m
                [0mDefault Language[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"defaultLanguage"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"en"[39m
                [36m>[39m
                  [0mEnglish[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"es"[39m
                [36m>[39m
                  [0mSpanish[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"fr"[39m
                [36m>[39m
                  [0mFrench[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"de"[39m
                [36m>[39m
                  [0mGerman[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
              [33mid[39m=[32m"adhdFriendlyMode"[39m
              [33mtype[39m=[32m"checkbox"[39m
            [36m/>[39m
            [36m<label[39m
              [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
              [33mfor[39m=[32m"adhdFriendlyMode"[39m
            [36m>[39m
              [0mADHD Friendly Mode[0m
            [36m</label>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"theme"[39m
            [36m>[39m
              [0mTheme[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mid[39m=[32m"theme"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"system"[39m
              [36m>[39m
                [0mSystem[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"light"[39m
              [36m>[39m
                [0mLight[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"dark"[39m
              [36m>[39m
                [0mDark[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"reducedMotion"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"reducedMotion"[39m
              [36m>[39m
                [0mReduced Motion[0m
              [36m</label>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"highContrast"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"highContrast"[39m
              [36m>[39m
                [0mHigh Contrast[0m
              [36m</label>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mContinue[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m3[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m75[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"3"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 75%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAcademic Preferences[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mSet your academic and citation preferences[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [33mfor[39m=[32m"citationStyle"[39m
                [36m>[39m
                  [0mCitation Style[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"citationStyle"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"apa"[39m
                  [36m>[39m
                    [0mAPA[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"mla"[39m
                  [36m>[39m
                    [0mMLA[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"chicago"[39m
                  [36m>[39m
                    [0mChicago[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"harvard"[39m
                  [36m>[39m
                    [0mHarvard[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [33mfor[39m=[32m"defaultLanguage"[39m
                [36m>[39m
                  [0mDefault Language[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"defaultLanguage"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"en"[39m
                  [36m>[39m
                    [0mEnglish[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"es"[39m
                  [36m>[39m
                    [0mSpanish[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"fr"[39m
                  [36m>[39m
                    [0mFrench[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"de"[39m
                  [36m>[39m
                    [0mGerman[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"adhdFriendlyMode"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"adhdFriendlyMode"[39m
              [36m>[39m
                [0mADHD Friendly Mode[0m
              [36m</label>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"theme"[39m
              [36m>[39m
                [0mTheme[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"theme"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"system"[39m
                [36m>[39m
                  [0mSystem[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"light"[39m
                [36m>[39m
                  [0mLight[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"dark"[39m
                [36m>[39m
                  [0mDark[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                  [33mid[39m=[32m"reducedMotion"[39m
                  [33mtype[39m=[32m"checkbox"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                  [33mfor[39m=[32m"reducedMotion"[39m
                [36m>[39m
                  [0mReduced Motion[0m
                [36m</label>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                  [33mid[39m=[32m"highContrast"[39m
                  [33mtype[39m=[32m"checkbox"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                  [33mfor[39m=[32m"highContrast"[39m
                [36m>[39m
                  [0mHigh Contrast[0m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Review & Complete Step > should handle setup completion errors 1182ms
   â†’ Unable to find an element with the text: Review & Complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m3[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m75[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"3"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 75%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mAcademic Preferences[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mSet your academic and citation preferences[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"citationStyle"[39m
              [36m>[39m
                [0mCitation Style[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"citationStyle"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"apa"[39m
                [36m>[39m
                  [0mAPA[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"mla"[39m
                [36m>[39m
                  [0mMLA[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"chicago"[39m
                [36m>[39m
                  [0mChicago[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"harvard"[39m
                [36m>[39m
                  [0mHarvard[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"defaultLanguage"[39m
              [36m>[39m
                [0mDefault Language[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"defaultLanguage"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"en"[39m
                [36m>[39m
                  [0mEnglish[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"es"[39m
                [36m>[39m
                  [0mSpanish[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"fr"[39m
                [36m>[39m
                  [0mFrench[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"de"[39m
                [36m>[39m
                  [0mGerman[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
              [33mid[39m=[32m"adhdFriendlyMode"[39m
              [33mtype[39m=[32m"checkbox"[39m
            [36m/>[39m
            [36m<label[39m
              [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
              [33mfor[39m=[32m"adhdFriendlyMode"[39m
            [36m>[39m
              [0mADHD Friendly Mode[0m
            [36m</label>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"theme"[39m
            [36m>[39m
              [0mTheme[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mid[39m=[32m"theme"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"system"[39m
              [36m>[39m
                [0mSystem[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"light"[39m
              [36m>[39m
                [0mLight[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"dark"[39m
              [36m>[39m
                [0mDark[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"reducedMotion"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"reducedMotion"[39m
              [36m>[39m
                [0mReduced Motion[0m
              [36m</label>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"highContrast"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"highContrast"[39m
              [36m>[39m
                [0mHigh Contrast[0m
              [36m</label>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mContinue[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m3[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m75[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"3"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 75%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAcademic Preferences[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mSet your academic and citation preferences[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [33mfor[39m=[32m"citationStyle"[39m
                [36m>[39m
                  [0mCitation Style[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"citationStyle"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"apa"[39m
                  [36m>[39m
                    [0mAPA[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"mla"[39m
                  [36m>[39m
                    [0mMLA[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"chicago"[39m
                  [36m>[39m
                    [0mChicago[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"harvard"[39m
                  [36m>[39m
                    [0mHarvard[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [33mfor[39m=[32m"defaultLanguage"[39m
                [36m>[39m
                  [0mDefault Language[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"defaultLanguage"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"en"[39m
                  [36m>[39m
                    [0mEnglish[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"es"[39m
                  [36m>[39m
                    [0mSpanish[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"fr"[39m
                  [36m>[39m
                    [0mFrench[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"de"[39m
                  [36m>[39m
                    [0mGerman[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"adhdFriendlyMode"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"adhdFriendlyMode"[39m
              [36m>[39m
                [0mADHD Friendly Mode[0m
              [36m</label>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"theme"[39m
              [36m>[39m
                [0mTheme[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"theme"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"system"[39m
                [36m>[39m
                  [0mSystem[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"light"[39m
                [36m>[39m
                  [0mLight[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"dark"[39m
                [36m>[39m
                  [0mDark[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                  [33mid[39m=[32m"reducedMotion"[39m
                  [33mtype[39m=[32m"checkbox"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                  [33mfor[39m=[32m"reducedMotion"[39m
                [36m>[39m
                  [0mReduced Motion[0m
                [36m</label>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                  [33mid[39m=[32m"highContrast"[39m
                  [33mtype[39m=[32m"checkbox"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                  [33mfor[39m=[32m"highContrast"[39m
                [36m>[39m
                  [0mHigh Contrast[0m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Review & Complete Step > should show loading state during setup 1013ms
   â†’ Unable to find role="heading" and name `/AI Provider Configuration/i`

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m3[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m75[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"3"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 75%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mAcademic Preferences[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mSet your academic and citation preferences[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"citationStyle"[39m
              [36m>[39m
                [0mCitation Style[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"citationStyle"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"apa"[39m
                [36m>[39m
                  [0mAPA[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"mla"[39m
                [36m>[39m
                  [0mMLA[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"chicago"[39m
                [36m>[39m
                  [0mChicago[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"harvard"[39m
                [36m>[39m
                  [0mHarvard[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"defaultLanguage"[39m
              [36m>[39m
                [0mDefault Language[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"defaultLanguage"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"en"[39m
                [36m>[39m
                  [0mEnglish[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"es"[39m
                [36m>[39m
                  [0mSpanish[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"fr"[39m
                [36m>[39m
                  [0mFrench[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"de"[39m
                [36m>[39m
                  [0mGerman[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
              [33mid[39m=[32m"adhdFriendlyMode"[39m
              [33mtype[39m=[32m"checkbox"[39m
            [36m/>[39m
            [36m<label[39m
              [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
              [33mfor[39m=[32m"adhdFriendlyMode"[39m
            [36m>[39m
              [0mADHD Friendly Mode[0m
            [36m</label>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"theme"[39m
            [36m>[39m
              [0mTheme[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mid[39m=[32m"theme"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"system"[39m
              [36m>[39m
                [0mSystem[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"light"[39m
              [36m>[39m
                [0mLight[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"dark"[39m
              [36m>[39m
                [0mDark[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"reducedMotion"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"reducedMotion"[39m
              [36m>[39m
                [0mReduced Motion[0m
              [36m</label>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"highContrast"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"highContrast"[39m
              [36m>[39m
                [0mHigh Contrast[0m
              [36m</label>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mContinue[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m3[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m75[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"3"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 75%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAcademic Preferences[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mSet your academic and citation preferences[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [33mfor[39m=[32m"citationStyle"[39m
                [36m>[39m
                  [0mCitation Style[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"citationStyle"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"apa"[39m
                  [36m>[39m
                    [0mAPA[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"mla"[39m
                  [36m>[39m
                    [0mMLA[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"chicago"[39m
                  [36m>[39m
                    [0mChicago[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"harvard"[39m
                  [36m>[39m
                    [0mHarvard[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [33mfor[39m=[32m"defaultLanguage"[39m
                [36m>[39m
                  [0mDefault Language[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"defaultLanguage"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"en"[39m
                  [36m>[39m
                    [0mEnglish[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"es"[39m
                  [36m>[39m
                    [0mSpanish[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"fr"[39m
                  [36m>[39m
                    [0mFrench[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"de"[39m
                  [36m>[39m
                    [0mGerman[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                [33mid[39m=[32m"adhdFriendlyMode"[39m
                [33mtype[39m=[32m"checkbox"[39m
              [36m/>[39m
              [36m<label[39m
                [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                [33mfor[39m=[32m"adhdFriendlyMode"[39m
              [36m>[39m
                [0mADHD Friendly Mode[0m
              [36m</label>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"theme"[39m
              [36m>[39m
                [0mTheme[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"theme"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"system"[39m
                [36m>[39m
                  [0mSystem[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"light"[39m
                [36m>[39m
                  [0mLight[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"dark"[39m
                [36m>[39m
                  [0mDark[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                  [33mid[39m=[32m"reducedMotion"[39m
                  [33mtype[39m=[32m"checkbox"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                  [33mfor[39m=[32m"reducedMotion"[39m
                [36m>[39m
                  [0mReduced Motion[0m
                [36m</label>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                  [33mid[39m=[32m"highContrast"[39m
                  [33mtype[39m=[32m"checkbox"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"ml-2 block text-sm text-gray-700"[39m
                  [33mfor[39m=[32m"highContrast"[39m
                [36m>[39m
                  [0mHigh Contrast[0m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Accessibility > should have proper ARIA labels and roles 9ms
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard > Accessibility > should support keyboard navigation 10ms
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard > Data Persistence > should save progress between steps 1176ms
   â†’ expected "spy" to be called with arguments: [ '/api/user-settings', â€¦(1) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[32m-   "/api/user-settings",[90m
[32m-   ObjectContaining {[90m
[32m-     "body": StringContaining "\"anthropicApiKey\":\"sk-ant-test-key\"",[90m
[32m-     "headers": {[90m
[32m-       "Content-Type": "application/json",[90m
[32m-     },[90m
[32m-     "method": "PUT",[90m
[32m-   },[90m
[31m+   "/api/setup-status",[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m2[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m50[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"2"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 50%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAI Provider Configuration[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mConfigure your AI provider settings[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"anthropicApiKey"[39m
              [36m>[39m
                [0mAnthropic API Key *[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                  [33mid[39m=[32m"anthropicApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-ant-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m"sk-ant-test-key"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest Anthropic Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"openaiApiKey"[39m
              [36m>[39m
                [0mOpenAI API Key (Optional)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mid[39m=[32m"openaiApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest OpenAI Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"monthlyBudget"[39m
              [36m>[39m
                [0mMonthly Budget ($) *[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"monthlyBudget"[39m
                [33mmin[39m=[32m"0"[39m
                [33mstep[39m=[32m"0.01"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"100"[39m
              [36m/>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"preferredProvider"[39m
              [36m>[39m
                [0mPreferred Provider[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"preferredProvider"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"auto"[39m
                [36m>[39m
                  [0mAuto[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"anthropic"[39m
                [36m>[39m
                  [0mAnthropic[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"openai"[39m
                [36m>[39m
                  [0mOpenAI[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard Edge Cases (TDD RED Phase) > should resume at correct step after partial completion (user leaves and returns) 1007ms
   â†’ [2mexpect([22m[31mreceived[39m[2m).toBeInTheDocument()[22m

[31mreceived[39m value must be an HTMLElement or an SVGElement.
Received has type:  Undefined
Received has value: [31mundefined[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m2[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m50[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"2"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 50%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAI Provider Configuration[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mConfigure your AI provider settings[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"anthropicApiKey"[39m
              [36m>[39m
                [0mAnthropic API Key *[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                  [33mid[39m=[32m"anthropicApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-ant-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest Anthropic Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"openaiApiKey"[39m
              [36m>[39m
                [0mOpenAI API Key (Optional)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mid[39m=[32m"openaiApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest OpenAI Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"monthlyBudget"[39m
              [36m>[39m
                [0mMonthly Budget ($) *[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"monthlyBudget"[39m
                [33mmin[39m=[32m"0"[39m
                [33mstep[39m=[32m"0.01"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"100"[39m
              [36m/>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"preferredProvider"[39m
              [36m>[39m
                [0mPreferred Provider[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"preferredProvider"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"auto"[39m
                [36m>[39m
                  [0mAuto[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"anthropic"[39m
                [36m>[39m
                  [0mAnthropic[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"openai"[39m
                [36m>[39m
                  [0mOpenAI[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mdisabled[39m=[32m""[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard Edge Cases (TDD RED Phase) > should handle corrupted/missing settings from API 1006ms
   â†’ Unable to find an element with the text: /failed to load setup status/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m2[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m50[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"2"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 50%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mAI Provider Configuration[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mConfigure your AI provider settings[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"anthropicApiKey"[39m
            [36m>[39m
              [0mAnthropic API Key *[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                [33mid[39m=[32m"anthropicApiKey"[39m
                [33mplaceholder[39m=[32m"sk-ant-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest Anthropic Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"openaiApiKey"[39m
            [36m>[39m
              [0mOpenAI API Key (Optional)[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"openaiApiKey"[39m
                [33mplaceholder[39m=[32m"sk-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest OpenAI Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"monthlyBudget"[39m
            [36m>[39m
              [0mMonthly Budget ($) *[0m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
              [33mid[39m=[32m"monthlyBudget"[39m
              [33mmin[39m=[32m"0"[39m
              [33mstep[39m=[32m"0.01"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtype[39m=[32m"number"[39m
              [33mvalue[39m=[32m"100"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"preferredProvider"[39m
            [36m>[39m
              [0mPreferred Provider[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mid[39m=[32m"preferredProvider"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"auto"[39m
              [36m>[39m
                [0mAuto[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"anthropic"[39m
              [36m>[39m
                [0mAnthropic[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"openai"[39m
              [36m>[39m
                [0mOpenAI[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
            [33mdisabled[39m=[32m""[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mContinue[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m1[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m25[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"1"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 25%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mWelcome to Academic Workflow Assistant[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mLet's get you set up with your AI-powered research assistant[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
          [33mdata-testid[39m=[32m"setupwizard-welcome-content"[39m
        [36m>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-700"[39m
          [36m>[39m
            [0mThis wizard will help you configure your Academic Workflow Assistant with:[0m
          [36m</p>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"list-disc list-inside text-gray-700 space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [0mAI provider settings (API keys and preferences)[0m
            [36m</li>[39m
            [36m<li>[39m
              [0mAcademic preferences (citation style, language)[0m
            [36m</li>[39m
            [36m<li>[39m
              [0mUI preferences (theme, accessibility)[0m
            [36m</li>[39m
          [36m</ul>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-700"[39m
          [36m>[39m
            [0mLet's get started![0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between mt-8"[39m
          [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
            [33mdisabled[39m=[32m""[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mBack[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
            [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [0mContinue[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m2[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m50[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"2"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 50%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAI Provider Configuration[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mConfigure your AI provider settings[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"anthropicApiKey"[39m
              [36m>[39m
                [0mAnthropic API Key *[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                  [33mid[39m=[32m"anthropicApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-ant-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest Anthropic Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"openaiApiKey"[39m
              [36m>[39m
                [0mOpenAI API Key (Optional)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mid[39m=[32m"openaiApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest OpenAI Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"monthlyBudget"[39m
              [36m>[39m
                [0mMonthly Budget ($) *[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"monthlyBudget"[39m
                [33mmin[39m=[32m"0"[39m
                [33mstep[39m=[32m"0.01"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"100"[39m
              [36m/>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"preferredProvider"[39m
              [36m>[39m
                [0mPreferred Provider[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"preferredProvider"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"auto"[39m
                [36m>[39m
                  [0mAuto[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"anthropic"[39m
                [36m>[39m
                  [0mAnthropic[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"openai"[39m
                [36m>[39m
                  [0mOpenAI[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mdisabled[39m=[32m""[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m1[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m25[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"1"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 25%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mWelcome to Academic Workflow Assistant[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mLet's get you set up with your AI-powered research assistant[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
            [33mdata-testid[39m=[32m"setupwizard-welcome-content"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-700"[39m
            [36m>[39m
              [0mThis wizard will help you configure your Academic Workflow Assistant with:[0m
            [36m</p>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"list-disc list-inside text-gray-700 space-y-2"[39m
            [36m>[39m
              [36m<li>[39m
                [0mAI provider settings (API keys and preferences)[0m
              [36m</li>[39m
              [36m<li>[39m
                [0mAcademic preferences (citation style, language)[0m
              [36m</li>[39m
              [36m<li>[39m
                [0mUI preferences (theme, accessibility)[0m
              [36m</li>[39m
            [36m</ul>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-700"[39m
            [36m>[39m
              [0mLet's get started![0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between mt-8"[39m
            [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
              [33mdisabled[39m=[32m""[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mBack[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
              [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [0mContinue[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— __tests__/components/SetupWizard.test.tsx > SetupWizard Edge Cases (TDD RED Phase) > should handle rapid navigation between steps (simulate fast user) 1005ms
   â†’ Found multiple elements with the text: (content, node) => !!node && !!node.textContent && node.textContent.includes("Welcome to Academic Workflow Assistant")

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m2[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m50[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"2"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 50%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mAI Provider Configuration[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mConfigure your AI provider settings[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"anthropicApiKey"[39m
            [36m>[39m
              [0mAnthropic API Key *[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                [33mid[39m=[32m"anthropicApiKey"[39m
                [33mplaceholder[39m=[32m"sk-ant-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest Anthropic Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"openaiApiKey"[39m
            [36m>[39m
              [0mOpenAI API Key (Optional)[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"openaiApiKey"[39m
                [33mplaceholder[39m=[32m"sk-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest OpenAI Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"monthlyBudget"[39m
            [36m>[39m
              [0mMonthly Budget ($) *[0m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
              [33mid[39m=[32m"monthlyBudget"[39m
              [33mmin[39m=[32m"0"[39m
              [33mstep[39m=[32m"0.01"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtype[39m=[32m"number"[39m
              [33mvalue[39m=[32m"100"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"preferredProvider"[39m
            [36m>[39m
              [0mPreferred Provider[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mid[39m=[32m"preferredProvider"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"auto"[39m
              [36m>[39m
                [0mAuto[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"anthropic"[39m
              [36m>[39m
                [0mAnthropic[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"openai"[39m
              [36m>[39m
                [0mOpenAI[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
        [36m</...

Ignored nodes: comments, script, style
[36m<div>[39m
  [36m<div[39m
    [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
    [33mdata-testid[39m=[32m"setupwizard-container"[39m
  [36m>[39m
    [0m // PATCH: key by currentStep[0m
    [36m<div[39m
      [33mclass[39m=[32m"mb-8"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
      [36m>[39m
        [36m<span[39m
          [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
        [36m>[39m
          [0mStep [0m
          [0m1[0m
          [0m of [0m
          [0m4[0m
        [36m</span>[39m
        [36m<span[39m
          [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
        [36m>[39m
          [0m25[0m
          [0m%[0m
        [36m</span>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
      [36m>[39m
        [36m<div[39m
          [33maria-valuemax[39m=[32m"4"[39m
          [33maria-valuemin[39m=[32m"0"[39m
          [33maria-valuenow[39m=[32m"1"[39m
          [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
          [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
          [33mrole[39m=[32m"progressbar"[39m
          [33mstyle[39m=[32m"width: 25%;"[39m
        [36m/>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
        [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
      [36m>[39m
        [0mWelcome to Academic Workflow Assistant[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-gray-600 mb-6"[39m
      [36m>[39m
        [0mLet's get you set up with your AI-powered research assistant[0m
      [36m</p>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4"[39m
        [33mdata-testid[39m=[32m"setupwizard-welcome-content"[39m
      [36m>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-700"[39m
        [36m>[39m
          [0mThis wizard will help you configure your Academic Workflow Assistant with:[0m
        [36m</p>[39m
        [36m<ul[39m
          [33mclass[39m=[32m"list-disc list-inside text-gray-700 space-y-2"[39m
        [36m>[39m
          [36m<li>[39m
            [0mAI provider settings (API keys and preferences)[0m
          [36m</li>[39m
          [36m<li>[39m
            [0mAcademic preferences (citation style, language)[0m
          [36m</li>[39m
          [36m<li>[39m
            [0mUI preferences (theme, accessibility)[0m
          [36m</li>[39m
        [36m</ul>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-700"[39m
        [36m>[39m
          [0mLet's get started![0m
        [36m</p>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between mt-8"[39m
        [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
          [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
          [33mdisabled[39m=[32m""[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [0mBack[0m
        [36m</button>[39m
        [36m<button[39m
          [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
          [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [0mContinue[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
  [33mdata-testid[39m=[32m"setupwizard-container"[39m
[36m>[39m
  [0m // PATCH: key by currentStep[0m
  [36m<div[39m
    [33mclass[39m=[32m"mb-8"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
    [36m>[39m
      [36m<span[39m
        [33mclass[39m=[32m"text-sm text-gray-600"[39m
        [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
      [36m>[39m
        [0mStep [0m
        [0m1[0m
        [0m of [0m
        [0m4[0m
      [36m</span>[39m
      [36m<span[39m
        [33mclass[39m=[32m"text-sm text-gray-600"[39m
        [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
      [36m>[39m
        [0m25[0m
        [0m%[0m
      [36m</span>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
    [36m>[39m
      [36m<div[39m
        [33maria-valuemax[39m=[32m"4"[39m
        [33maria-valuemin[39m=[32m"0"[39m
        [33maria-valuenow[39m=[32m"1"[39m
        [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
        [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
        [33mrole[39m=[32m"progressbar"[39m
        [33mstyle[39m=[32m"width: 25%;"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div[39m
    [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
  [36m>[39m
    [36m<h2[39m
      [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
      [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
    [36m>[39m
      [0mWelcome to Academic Workflow Assistant[0m
    [36m</h2>[39m
    [36m<p[39m
      [33mclass[39m=[32m"text-gray-600 mb-6"[39m
    [36m>[39m
      [0mLet's get you set up with your AI-powered research assistant[0m
    [36m</p>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
      [33mdata-testid[39m=[32m"setupwizard-welcome-content"[39m
    [36m>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-gray-700"[39m
      [36m>[39m
        [0mThis wizard will help you configure your Academic Workflow Assistant with:[0m
      [36m</p>[39m
      [36m<ul[39m
        [33mclass[39m=[32m"list-disc list-inside text-gray-700 space-y-2"[39m
      [36m>[39m
        [36m<li>[39m
          [0mAI provider settings (API keys and preferences)[0m
        [36m</li>[39m
        [36m<li>[39m
          [0mAcademic preferences (citation style, language)[0m
        [36m</li>[39m
        [36m<li>[39m
          [0mUI preferences (theme, accessibility)[0m
        [36m</li>[39m
      [36m</ul>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-gray-700"[39m
      [36m>[39m
        [0mLet's get started![0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex justify-between mt-8"[39m
      [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
        [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [0mBack[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
        [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [0mContinue[0m
      [36m</button>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
[36m>[39m
  [36m<h2[39m
    [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
    [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
  [36m>[39m
    [0mWelcome to Academic Workflow Assistant[0m
  [36m</h2>[39m
  [36m<p[39m
    [33mclass[39m=[32m"text-gray-600 mb-6"[39m
  [36m>[39m
    [0mLet's get you set up with your AI-powered research assistant[0m
  [36m</p>[39m
  [36m<div[39m
    [33mclass[39m=[32m"space-y-4"[39m
    [33mdata-testid[39m=[32m"setupwizard-welcome-content"[39m
  [36m>[39m
    [36m<p[39m
      [33mclass[39m=[32m"text-gray-700"[39m
    [36m>[39m
      [0mThis wizard will help you configure your Academic Workflow Assistant with:[0m
    [36m</p>[39m
    [36m<ul[39m
      [33mclass[39m=[32m"list-disc list-inside text-gray-700 space-y-2"[39m
    [36m>[39m
      [36m<li>[39m
        [0mAI provider settings (API keys and preferences)[0m
      [36m</li>[39m
      [36m<li>[39m
        [0mAcademic preferences (citation style, language)[0m
      [36m</li>[39m
      [36m<li>[39m
        [0mUI preferences (theme, accessibility)[0m
      [36m</li>[39m
    [36m</ul>[39m
    [36m<p[39m
      [33mclass[39m=[32m"text-gray-700"[39m
    [36m>[39m
      [0mLet's get started![0m
    [36m</p>[39m
  [36m</div>[39m
  [36m<div[39m
    [33mclass[39m=[32m"flex justify-between mt-8"[39m
    [33mdata-testid[39m=[32m"setupwizard-nav-buttons"[39m
  [36m>[39m
    [36m<button[39m
      [33mclass[39m=[32m"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400"[39m
      [33mdata-testid[39m=[32m"setupwizard-back-btn"[39m
      [33mdisabled[39m=[32m""[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [0mBack[0m
    [36m</button>[39m
    [36m<button[39m
      [33mclass[39m=[32m"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
      [33mdata-testid[39m=[32m"setupwizard-continue-btn"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [0mContinue[0m
    [36m</button>[39m
  [36m</div>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<h2[39m
  [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
  [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
[36m>[39m
  [0mWelcome to Academic Workflow Assistant[0m
[36m</h2>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
      [33mdata-testid[39m=[32m"setupwizard-container"[39m
    [36m>[39m
      [0m // PATCH: key by currentStep[0m
      [36m<div[39m
        [33mclass[39m=[32m"mb-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
          [36m>[39m
            [0mStep [0m
            [0m2[0m
            [0m of [0m
            [0m4[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
          [36m>[39m
            [0m50[0m
            [0m%[0m
          [36m</span>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"4"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33maria-valuenow[39m=[32m"2"[39m
            [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
            [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
            [33mrole[39m=[32m"progressbar"[39m
            [33mstyle[39m=[32m"width: 50%;"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
          [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
        [36m>[39m
          [0mAI Provider Configuration[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-gray-600 mb-6"[39m
        [36m>[39m
          [0mConfigure your AI provider settings[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"anthropicApiKey"[39m
            [36m>[39m
              [0mAnthropic API Key *[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                [33mid[39m=[32m"anthropicApiKey"[39m
                [33mplaceholder[39m=[32m"sk-ant-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest Anthropic Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"openaiApiKey"[39m
            [36m>[39m
              [0mOpenAI API Key (Optional)[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-2"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"openaiApiKey"[39m
                [33mplaceholder[39m=[32m"sk-..."[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"password"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mTest OpenAI Key[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"monthlyBudget"[39m
            [36m>[39m
              [0mMonthly Budget ($) *[0m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
              [33mid[39m=[32m"monthlyBudget"[39m
              [33mmin[39m=[32m"0"[39m
              [33mstep[39m=[32m"0.01"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtype[39m=[32m"number"[39m
              [33mvalue[39m=[32m"100"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [33mfor[39m=[32m"preferredProvider"[39m
            [36m>[39m
              [0mPreferred Provider[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mid[39m=[32m"preferredProvider"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"auto"[39m
              [36m>[39m
                [0mAuto[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"anthropic"[39m
              [36m>[39m
                [0mAnthropic[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"openai"[39m
              [36m>[39m
                [0mOpenAI[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
        [36m</...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
        [33mdata-testid[39m=[32m"setupwizard-container"[39m
      [36m>[39m
        [0m // PATCH: key by currentStep[0m
        [36m<div[39m
          [33mclass[39m=[32m"mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center mb-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-step-counter"[39m
            [36m>[39m
              [0mStep [0m
              [0m2[0m
              [0m of [0m
              [0m4[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [33mdata-testid[39m=[32m"setupwizard-progress-percent"[39m
            [36m>[39m
              [0m50[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"4"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33maria-valuenow[39m=[32m"2"[39m
              [33mclass[39m=[32m"bg-blue-600 h-2 rounded-full transition-all duration-300"[39m
              [33mdata-testid[39m=[32m"setupwizard-progressbar"[39m
              [33mrole[39m=[32m"progressbar"[39m
              [33mstyle[39m=[32m"width: 50%;"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-2"[39m
            [33mdata-testid[39m=[32m"setupwizard-step-title"[39m
          [36m>[39m
            [0mAI Provider Configuration[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mb-6"[39m
          [36m>[39m
            [0mConfigure your AI provider settings[0m
          [36m</p>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-testid[39m=[32m"setupwizard-apikeys-content"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"anthropicApiKey"[39m
              [36m>[39m
                [0mAnthropic API Key *[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mdata-testid[39m=[32m"setupwizard-anthropic-api-key"[39m
                  [33mid[39m=[32m"anthropicApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-ant-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest Anthropic Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"openaiApiKey"[39m
              [36m>[39m
                [0mOpenAI API Key (Optional)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                  [33mid[39m=[32m"openaiApiKey"[39m
                  [33mplaceholder[39m=[32m"sk-..."[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"password"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mTest OpenAI Key[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"monthlyBudget"[39m
              [36m>[39m
                [0mMonthly Budget ($) *[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300"[39m
                [33mid[39m=[32m"monthlyBudget"[39m
                [33mmin[39m=[32m"0"[39m
                [33mstep[39m=[32m"0.01"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"100"[39m
              [36m/>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [33mfor[39m=[32m"preferredProvider"[39m
              [36m>[39m
                [0mPreferred Provider[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                [33mid[39m=[32m"preferredProvider"[39m
                [33mtabindex[39m=[32m"0"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"auto"[39m
                [36m>[39m
                  [0mAuto[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"anthropic"[39...
 âœ“ __tests__/components/SetupWizard.test.tsx > SetupWizard Edge Cases (TDD RED Phase) > should have correct ARIA attributes and support keyboard navigation (accessibility) 3ms

 Test Files  1 failed (1)
      Tests  15 failed | 14 passed (29)
   Start at  17:27:22
   Duration  15.59s (transform 61ms, setup 57ms, collect 120ms, tests 14.98s, environment 218ms, prepare 54ms)

